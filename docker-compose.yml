services:
  finance-mcp:
    build: .
    container_name: finance-mcp
    restart: unless-stopped
    environment:
      MCP_TRANSPORT: ${MCP_TRANSPORT:-stdio}
      MCP_HOST: ${MCP_HOST:-0.0.0.0}
      MCP_PORT: ${MCP_PORT:-6668}
      MCP_HTTP_AUTH_TOKEN: ${MCP_HTTP_AUTH_TOKEN:-}
      MCP_MIN_SCORE: ${MCP_MIN_SCORE:-0.55}
      OUTBANK_CSV_DIR: ${OUTBANK_CSV_DIR:-/app/outbank_exports}
      OUTBANK_CSV_GLOB: ${OUTBANK_CSV_GLOB:-*.csv}
    ports:
      - "${MCP_PORT:-6668}:${MCP_PORT:-6668}"
    volumes:
      - "${OUTBANK_CSV_DIR:-./outbank_exports}:/app/outbank_exports:ro"
